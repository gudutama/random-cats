<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>glupiikotiki</title>
    <style>
        body {
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            min-height: 100vh; margin: 0; background-color: #1e1e1e; color: #ffffff;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ñ–æ—Ç–æ –∏ –≤–∏–¥–µ–æ */
        .media-content {
            max-width: 90%;
            max-height: 70vh;
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.5);
            display: none; /* –°–∫—Ä—ã—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
        }

        .loader { font-size: 20px; margin: 20px; }
        
        /* –ù–µ–º–Ω–æ–≥–æ –æ—Ç–æ–¥–≤–∏–Ω–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ –æ—Ç –∫–∞—Ä—Ç–∏–Ω–∫–∏ */
        h1 { margin-bottom: 5px; margin-top: 5px; }
        h2 { margin: 5px 0 15px 0;}
    </style>
</head>
<body>

    <h1>üê±–ö–æ—Ç –¥–Ω—è</h1>
    <h2>–∞ –º–æ–∂–µ—Ç –∏ –Ω–µ –∫–æ—Ç...</h2>
    
    <div id="loading" class="loader">–ò—â–µ–º –∫–æ—Ç–∞ –≤ –±–∞–∑–µ...</div>
    
    <img id="cat-image" class="media-content" src="" alt="–ö–æ—Ç –¥–Ω—è">
    <video id="cat-video" class="media-content" src="" controls autoplay loop muted></video>
    
    <script>
        let catsDatabase = [];

        async function loadDatabase() {
            try {
                const response = await fetch('cats.json'); 
                catsDatabase = await response.json(); 
                document.getElementById('loading').style.display = 'none';
                showCatOfTheDay(); 
            } catch (error) {
                document.getElementById('loading').innerText = '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –±–∞–∑—ã –∫–æ—Ç–æ–≤ :(';
            }
        }

        // –£–º–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è: –≤—ã–¥–∞–µ—Ç –≤—Å–µ–≥–¥–∞ –û–î–ù–û –ò –¢–û –ñ–ï —á–∏—Å–ª–æ –≤ —Ç–µ—á–µ–Ω–∏–µ –æ–¥–Ω–∏—Ö —Å—É—Ç–æ–∫
        function getDailyRandomIndex(arrayLength) {
            const now = new Date();
            // –ü—Ä–µ–≤—Ä–∞—â–∞–µ–º –¥–∞—Ç—É –≤ –æ–¥–Ω–æ —á–∏—Å–ª–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 26 —Ñ–µ–≤—Ä–∞–ª—è 2026 = 20260226)
            const daySeed = now.getFullYear() * 10000 + (now.getMonth() + 1) * 100 + now.getDate();
            
            // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–∏–Ω—É—Å, —á—Ç–æ–±—ã –∏–∑ –¥–∞—Ç—ã —Å–¥–µ–ª–∞—Ç—å "—Å–ª—É—á–∞–π–Ω—É—é" –¥—Ä–æ–±—å
            const x = Math.sin(daySeed) * 10000;
            const randomFraction = x - Math.floor(x);
            
            // –£–º–Ω–æ–∂–∞–µ–º –¥—Ä–æ–±—å –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞—à–∏—Ö –∫–æ—Ç–æ–≤
            return Math.floor(randomFraction * arrayLength);
        }

        function showCatOfTheDay() {
            if (catsDatabase.length === 0) return;

            // –í—ã–∑—ã–≤–∞–µ–º –Ω–∞—à—É —Ñ—É–Ω–∫—Ü–∏—é –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –¥–∞—Ç–µ –≤–º–µ—Å—Ç–æ –æ–±—ã—á–Ω–æ–≥–æ —Ä–∞–Ω–¥–æ–º–∞
            const dailyIndex = getDailyRandomIndex(catsDatabase.length);
            const mediaUrl = catsDatabase[dailyIndex];

            const imgElement = document.getElementById('cat-image');
            const videoElement = document.getElementById('cat-video');

            imgElement.style.display = 'none';
            videoElement.style.display = 'none';
            videoElement.pause(); 

            if (mediaUrl.includes('.mp4')) {
                videoElement.src = mediaUrl;
                videoElement.style.display = 'block';
                videoElement.play();
            } else {
                imgElement.src = mediaUrl;
                imgElement.style.display = 'block';
            }
        }

        loadDatabase();
    </script>

</body>
</html>